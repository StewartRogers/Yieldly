<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yieldly - Portfolio Tracker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Top Navigation -->
  <nav class="top-nav">
    <div class="nav-container">
      <div class="nav-brand">
        <img src="logo.svg" alt="Yieldly Logo" class="nav-logo">
        <span class="nav-title">Yieldly</span>
      </div>
      <div class="nav-menu">
        <a href="#" class="nav-link active" data-page="home">Home</a>
        <a href="#" class="nav-link" data-page="portfolios">Portfolios</a>
        <a href="#" class="nav-link" data-page="transactions">Transactions</a>
        <a href="#" class="nav-link" data-page="import">Import Data</a>
      </div>
    </div>
  </nav>

  <div class="container">
    <!-- Home Page -->
    <div id="page-home" class="page-content active">
      <div class="home-hero">
        <h1>Welcome to Yieldly</h1>
        <p class="hero-subtitle">Your intelligent portfolio companion</p>

        <div class="coming-soon-container">
          <div class="chat-preview">
            <div class="chat-watermark">Coming Soon</div>
            <div class="chat-placeholder">
              <div class="chat-message assistant">
                <p>Hello! I'm your AI portfolio assistant. Soon you'll be able to ask me questions like:</p>
              </div>
              <div class="chat-message user">
                <p>"What's my total dividend income this year?"</p>
              </div>
              <div class="chat-message user">
                <p>"Show me my best performing stocks"</p>
              </div>
              <div class="chat-message user">
                <p>"Analyze my portfolio diversification"</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Portfolios Page -->
    <div id="page-portfolios" class="page-content">
      <div class="page-header">
        <h1>Portfolio Holdings</h1>
        <div class="page-header-actions">
          <button id="refresh-prices-btn" class="btn-secondary" style="display: none;">
            ðŸ”„ Refresh Prices
          </button>
          <button id="new-portfolio-btn" class="btn-link">+ New Portfolio</button>
        </div>
      </div>

      <!-- New Portfolio Form -->
      <div id="new-portfolio-form" class="new-portfolio-form" style="display: none;">
        <div class="form-row">
          <div class="form-group">
            <label for="portfolio-name">Portfolio Name</label>
            <input type="text" id="portfolio-name" placeholder="e.g., Retirement Fund" required>
          </div>
          <div class="form-group">
            <label for="portfolio-code">Portfolio Code</label>
            <input type="text" id="portfolio-code" placeholder="e.g., RR" required>
          </div>
        </div>
        <div class="form-actions">
          <button id="create-portfolio-btn" class="btn-primary">Create Portfolio</button>
          <button id="cancel-portfolio-btn" class="btn-secondary">Cancel</button>
        </div>
      </div>

      <!-- Portfolio Tabs -->
      <div class="portfolio-tabs" id="portfolio-tabs">
        <p class="empty-state">No portfolios yet. Create your first portfolio to get started!</p>
      </div>

      <!-- Portfolio Holdings -->
      <div id="portfolio-content">
        <section class="portfolio-summary">
          <div id="portfolio-grid" class="portfolio-grid">
            <p class="empty-state">Select a portfolio to view holdings</p>
          </div>
        </section>
      </div>

      <!-- Edit Stock Info Modal -->
      <div id="stock-info-modal" class="modal" style="display: none;">
        <div class="modal-content">
          <div class="modal-header">
            <h2>Update Stock Information</h2>
            <button class="modal-close" onclick="closeStockInfoModal()">&times;</button>
          </div>
          <form id="stock-info-form">
            <input type="hidden" id="edit-portfolio-id">
            <input type="hidden" id="edit-ticker">

            <div class="form-section">
              <h3 id="edit-stock-title"></h3>

              <div class="form-group">
                <label for="edit-market-price">Market Price</label>
                <input type="number" id="edit-market-price" step="0.01" placeholder="0.00">
              </div>
            </div>

            <div class="form-section">
              <h3>Dividend Information</h3>

              <div class="form-row">
                <div class="form-group">
                  <label for="edit-dividend-frequency">Frequency</label>
                  <select id="edit-dividend-frequency">
                    <option value="">None</option>
                    <option value="Monthly">Monthly</option>
                    <option value="Quarterly">Quarterly</option>
                    <option value="Semi-Annual">Semi-Annual</option>
                    <option value="Annual">Annual</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="edit-dividend-per-share">Per Share Amount</label>
                  <input type="number" id="edit-dividend-per-share" step="0.01" placeholder="0.00">
                </div>
              </div>

              <div class="form-group">
                <label for="edit-last-dividend-date">Last Dividend Date</label>
                <input type="date" id="edit-last-dividend-date">
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-primary">Save Changes</button>
              <button type="button" class="btn-secondary" onclick="closeStockInfoModal()">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Transactions Page -->
    <div id="page-transactions" class="page-content">
      <h1>Transactions</h1>

      <!-- Add Transaction Form -->
      <section class="add-transaction">
        <h2>Add Transaction</h2>
        <form id="transaction-form">
          <div class="form-row">
            <div class="form-group">
              <label for="transaction-portfolio-select">Portfolio</label>
              <select id="transaction-portfolio-select" required>
                <option value="">Select a portfolio...</option>
              </select>
            </div>
            <div class="form-group">
              <label for="ticker">Ticker Symbol</label>
              <input type="text" id="ticker" placeholder="AAPL" required>
            </div>
            <div class="form-group">
              <label for="type">Type</label>
              <select id="type" required>
                <option value="BUY">Buy</option>
                <option value="SELL">Sell</option>
                <option value="DIVIDEND">Dividend</option>
                <option value="DIVIDEND_REINVEST">Dividend Reinvestment</option>
              </select>
            </div>
          </div>
          <div id="shares-fields" class="form-row">
            <div class="form-group">
              <label for="quantity">Quantity</label>
              <input type="number" id="quantity" step="0.01" placeholder="10">
            </div>
            <div class="form-group">
              <label for="price">Price per Share</label>
              <input type="number" id="price" step="0.01" placeholder="150.00">
            </div>
            <div class="form-group">
              <label for="date">Date</label>
              <input type="date" id="date" required>
            </div>
          </div>
          <div id="dividend-field" class="form-row" style="display: none;">
            <div class="form-group">
              <label for="total">Total Amount</label>
              <input type="number" id="total" step="0.01" placeholder="70.00">
            </div>
            <div class="form-group">
              <label for="date">Date</label>
              <input type="date" id="date-dividend" required>
            </div>
          </div>
          <button type="submit" class="btn-primary">Add Transaction</button>
        </form>
      </section>

      <!-- Transaction History -->
      <section class="transaction-history">
        <h2>Transaction History</h2>
        <div id="transactions-list" class="transactions-list">
          <p class="empty-state">No transactions yet.</p>
        </div>
        <div id="pagination" class="pagination" style="display: none;">
          <button id="prev-page" class="btn-secondary" disabled>Previous</button>
          <span id="page-info">Page 1</span>
          <button id="next-page" class="btn-secondary">Next</button>
        </div>
      </section>
    </div>

    <!-- Import Page -->
    <div id="page-import" class="page-content">
      <h1>Import Data</h1>

      <section class="import-section">
        <h3>CSV Import</h3>
        <p class="help-text">Format: Date, Symbol, Portfolio, Type, Quantity, Share Price, Total</p>
        <p class="help-text">The Portfolio column should match an existing portfolio code. Transactions will be automatically assigned to the correct portfolio.</p>

        <div class="file-upload">
          <input type="file" id="csv-file" accept=".csv" style="display: none;">
          <button id="choose-file-btn" class="btn-secondary">Choose CSV File</button>
          <span id="file-name" class="file-name"></span>
        </div>

        <button id="import-csv-btn" class="btn-primary" disabled>Import CSV</button>
        <div id="import-status" class="import-status"></div>
      </section>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
